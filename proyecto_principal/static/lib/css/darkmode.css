/* =====================================================
   darkmode.css
   Correcciones completas del modo oscuro para Bootstrap
   ===================================================== */

/* ── Variables oscuras ── */
body.dark {
    --body-color:          #18191A;
    --sidebar-color:       #242526;
    --primary-color:       #3A3B3C;
    --primary-color-light: #3A3B3C;
    --toogle-color:        #FFF;
    --text-color:          #CCC;

    /* Variables extra para Bootstrap */
    --bs-body-bg:          #18191A;
    --bs-body-color:       #CCC;
    --bs-border-color:     #3A3B3C;
    --bs-table-bg:         #242526;
    --bs-table-striped-bg: #2c2d2e;
    --bs-table-hover-bg:   #2f3031;
}

/* ══════════════════════════════════════
   BODY Y CONTENIDO PRINCIPAL
══════════════════════════════════════ */
body.dark,
body.dark .main-content,
body.dark .page-content {
    background-color: #18191A !important;
    color: #CCC !important;
}

/* ══════════════════════════════════════
   CARDS
══════════════════════════════════════ */
body.dark .card {
    background-color: #242526 !important;
    border-color: #3A3B3C !important;
    color: #CCC !important;
}

body.dark .card-header {
    background-color: #2f3031 !important;
    border-bottom-color: #3A3B3C !important;
    color: #CCC !important;
}

body.dark .card-footer {
    background-color: #2f3031 !important;
    border-top-color: #3A3B3C !important;
    color: #CCC !important;
}

body.dark .card-body {
    background-color: #242526 !important;
    color: #CCC !important;
}

/* ══════════════════════════════════════
   TABLAS BOOTSTRAP — El problema principal
══════════════════════════════════════ */
body.dark .table {
    --bs-table-bg:          #242526;
    --bs-table-striped-bg:  #2c2d2e;
    --bs-table-hover-bg:    #2f3031;
    --bs-table-border-color: #3A3B3C;
    --bs-table-color:       #CCC;
    color: #CCC !important;
    border-color: #3A3B3C !important;
}

body.dark .table > :not(caption) > * > * {
    background-color: #242526 !important;
    color: #CCC !important;
    border-bottom-color: #3A3B3C !important;
}

body.dark .table thead th,
body.dark .table thead td {
    background-color: #2f3031 !important;
    color: #CCC !important;
    border-color: #3A3B3C !important;
}

body.dark .table tbody tr {
    background-color: #242526 !important;
    color: #CCC !important;
}

body.dark .table tbody tr:hover > * {
    background-color: #2f3031 !important;
    color: #CCC !important;
}

body.dark .table-striped > tbody > tr:nth-of-type(odd) > * {
    background-color: #2c2d2e !important;
    color: #CCC !important;
}

body.dark .table-bordered,
body.dark .table-bordered > :not(caption) > * > * {
    border-color: #3A3B3C !important;
}

body.dark .table-hover > tbody > tr:hover > * {
    background-color: #2f3031 !important;
    color: #CCC !important;
}

/* table-light que Bootstrap usa en thead */
body.dark .table-light,
body.dark .table-light > * {
    --bs-table-bg: #2f3031 !important;
    background-color: #2f3031 !important;
    color: #CCC !important;
    border-color: #3A3B3C !important;
}

body.dark .table-light th,
body.dark .table-light td {
    background-color: #2f3031 !important;
    color: #CCC !important;
}

/* ══════════════════════════════════════
   DATATABLES
══════════════════════════════════════ */
body.dark .dataTables_wrapper {
    color: #CCC !important;
}

body.dark .dataTables_wrapper .dataTables_length,
body.dark .dataTables_wrapper .dataTables_filter,
body.dark .dataTables_wrapper .dataTables_info,
body.dark .dataTables_wrapper .dataTables_processing,
body.dark .dataTables_wrapper .dataTables_paginate {
    color: #CCC !important;
}

body.dark .dataTables_wrapper .dataTables_length select,
body.dark .dataTables_wrapper .dataTables_filter input {
    background-color: #2f3031 !important;
    color: #CCC !important;
    border-color: #3A3B3C !important;
}

body.dark .dataTables_wrapper .dataTables_paginate .paginate_button {
    color: #CCC !important;
    background: transparent !important;
    border-color: transparent !important;
}

body.dark .dataTables_wrapper .dataTables_paginate .paginate_button:hover {
    background: #3A3B3C !important;
    color: #FFF !important;
    border-color: #3A3B3C !important;
}

body.dark .dataTables_wrapper .dataTables_paginate .paginate_button.current,
body.dark .dataTables_wrapper .dataTables_paginate .paginate_button.current:hover {
    background: #FF5722 !important;
    color: #FFF !important;
    border-color: #FF5722 !important;
}

body.dark .dataTables_wrapper .dataTables_paginate .paginate_button.disabled,
body.dark .dataTables_wrapper .dataTables_paginate .paginate_button.disabled:hover {
    color: #666 !important;
}

/* ══════════════════════════════════════
   FORMULARIOS E INPUTS
══════════════════════════════════════ */
body.dark .form-control,
body.dark .form-select {
    background-color: #2f3031 !important;
    border-color: #3A3B3C !important;
    color: #CCC !important;
}

body.dark .form-control:focus,
body.dark .form-select:focus {
    background-color: #2f3031 !important;
    border-color: #FF5722 !important;
    color: #CCC !important;
    box-shadow: 0 0 0 0.2rem rgba(255, 87, 34, 0.25) !important;
}

body.dark .form-control::placeholder {
    color: #888 !important;
}

body.dark .form-label,
body.dark label {
    color: #CCC !important;
}

body.dark .form-text {
    color: #999 !important;
}

body.dark .input-group-text {
    background-color: #3A3B3C !important;
    border-color: #3A3B3C !important;
    color: #CCC !important;
}

/* ══════════════════════════════════════
   SELECT2
══════════════════════════════════════ */
body.dark .select2-container--default .select2-selection--single,
body.dark .select2-container--default .select2-selection--multiple {
    background-color: #2f3031 !important;
    border-color: #3A3B3C !important;
    color: #CCC !important;
}

body.dark .select2-container--default .select2-selection--single .select2-selection__rendered {
    color: #CCC !important;
}

body.dark .select2-dropdown {
    background-color: #2f3031 !important;
    border-color: #3A3B3C !important;
    color: #CCC !important;
}

body.dark .select2-container--default .select2-results__option {
    background-color: #2f3031 !important;
    color: #CCC !important;
}

body.dark .select2-container--default .select2-results__option--highlighted {
    background-color: #FF5722 !important;
    color: #FFF !important;
}

body.dark .select2-search--dropdown .select2-search__field {
    background-color: #242526 !important;
    border-color: #3A3B3C !important;
    color: #CCC !important;
}

/* ══════════════════════════════════════
   MODALES
══════════════════════════════════════ */
body.dark .modal-content {
    background-color: #242526 !important;
    border-color: #3A3B3C !important;
    color: #CCC !important;
}

body.dark .modal-header {
    background-color: #2f3031 !important;
    border-bottom-color: #3A3B3C !important;
    color: #CCC !important;
}

body.dark .modal-footer {
    background-color: #2f3031 !important;
    border-top-color: #3A3B3C !important;
}

body.dark .modal-title {
    color: #CCC !important;
}

body.dark .btn-close {
    filter: invert(1) !important;
}

/* ══════════════════════════════════════
   BADGES Y TEXTOS
══════════════════════════════════════ */
body.dark h1, body.dark h2, body.dark h3,
body.dark h4, body.dark h5, body.dark h6 {
    color: #CCC !important;
}

body.dark p,
body.dark span:not(.badge):not(.switch):not(.switch *) {
    color: #CCC;
}

body.dark .text-muted {
    color: #888 !important;
}

body.dark .text-dark {
    color: #CCC !important;
}

body.dark small {
    color: #999 !important;
}

/* ══════════════════════════════════════
   NAVBAR / HEADER
══════════════════════════════════════ */
body.dark .navbar,
body.dark .main-content .navbar {
    background-color: #242526 !important;
    border-bottom-color: #3A3B3C !important;
}

body.dark .navbar .nav-link,
body.dark .navbar .navbar-brand {
    color: #CCC !important;
}

/* ══════════════════════════════════════
   DROPDOWNS
══════════════════════════════════════ */
body.dark .dropdown-menu {
    background-color: #242526 !important;
    border-color: #3A3B3C !important;
}

body.dark .dropdown-item {
    color: #CCC !important;
}

body.dark .dropdown-item:hover,
body.dark .dropdown-item:focus {
    background-color: #3A3B3C !important;
    color: #FFF !important;
}

body.dark .dropdown-divider {
    border-top-color: #3A3B3C !important;
}

/* ══════════════════════════════════════
   ALERTAS
══════════════════════════════════════ */
body.dark .alert {
    border-color: #3A3B3C !important;
}

body.dark .alert-info {
    background-color: #1a3a4a !important;
    color: #7dd3fc !important;
}

body.dark .alert-success {
    background-color: #1a3a2a !important;
    color: #6ee7b7 !important;
}

body.dark .alert-warning {
    background-color: #3a2a00 !important;
    color: #fcd34d !important;
}

body.dark .alert-danger {
    background-color: #3a1a1a !important;
    color: #fca5a5 !important;
}

/* ══════════════════════════════════════
   BREADCRUMBS Y MISC
══════════════════════════════════════ */
body.dark .breadcrumb {
    background-color: #2f3031 !important;
}

body.dark .breadcrumb-item,
body.dark .breadcrumb-item.active {
    color: #CCC !important;
}

body.dark .breadcrumb-item + .breadcrumb-item::before {
    color: #888 !important;
}

body.dark hr {
    border-color: #3A3B3C !important;
}

body.dark .list-group-item {
    background-color: #242526 !important;
    border-color: #3A3B3C !important;
    color: #CCC !important;
}

body.dark .border,
body.dark .border-top,
body.dark .border-bottom,
body.dark .border-start,
body.dark .border-end {
    border-color: #3A3B3C !important;
}

/* ══════════════════════════════════════
   FORMS.CSS — .form-container
   (tiene background: white hardcodeado)
══════════════════════════════════════ */
body.dark .form-container {
    background: #242526 !important;
    color: #CCC !important;
    box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.4) !important;
}

body.dark .form-container label {
    color: #CCC !important;
}

body.dark .form-container input,
body.dark .form-container select,
body.dark .form-container textarea {
    background-color: #2f3031 !important;
    border-color: #3A3B3C !important;
    color: #CCC !important;
}

body.dark .form-container input:focus,
body.dark .form-container select:focus,
body.dark .form-container textarea:focus {
    background-color: #2f3031 !important;
    border-color: #FF5722 !important;
    color: #CCC !important;
    box-shadow: 0 0 0 3px rgba(255, 87, 34, 0.2) !important;
}

body.dark .form-container input::placeholder,
body.dark .form-container textarea::placeholder {
    color: #888 !important;
}

/* ══════════════════════════════════════
   MODALES-SELECT2.CSS — .modal-content
   (tiene background: white hardcodeado)
   Nota: selector más específico que Bootstrap
══════════════════════════════════════ */
/* .modal-content — cubre tanto modales propios como los de Bootstrap */
body.dark .modal-content,
body.dark .simple-modal .modal-content {
    background: #242526 !important;
    color: #CCC !important;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6) !important;
}

body.dark .modal-content label,
body.dark .simple-modal .modal-content label {
    color: #CCC !important;
}

body.dark .modal-content h3 {
    /* El gradiente del texto se mantiene, solo ajustamos si hay problema de visibilidad */
    opacity: 0.95;
}

body.dark .modal-content input,
body.dark .modal-content textarea,
body.dark .modal-content select,
body.dark .simple-modal .modal-content input,
body.dark .simple-modal .modal-content textarea,
body.dark .simple-modal .modal-content select {
    background-color: #2f3031 !important;
    border-color: #3A3B3C !important;
    color: #CCC !important;
}

body.dark .modal-content input:focus,
body.dark .modal-content textarea:focus,
body.dark .modal-content select:focus,
body.dark .simple-modal .modal-content input:focus,
body.dark .simple-modal .modal-content textarea:focus,
body.dark .simple-modal .modal-content select:focus {
    background-color: #2f3031 !important;
    border-color: #FF5722 !important;
    color: #CCC !important;
    box-shadow: 0 0 0 3px rgba(255, 87, 34, 0.2) !important;
}

body.dark .modal-content input::placeholder,
body.dark .modal-content textarea::placeholder {
    color: #888 !important;
}

body.dark .modal-buttons {
    border-top-color: #3A3B3C !important;
}

/* Mensajes de éxito/error dentro de modales */
body.dark .message.success {
    background: rgba(76, 175, 80, 0.15) !important;
    color: #6ee7b7 !important;
    border-color: #4caf50 !important;
}

body.dark .message.error {
    background: rgba(229, 57, 53, 0.15) !important;
    color: #fca5a5 !important;
    border-color: #e53935 !important;
}

/* ══════════════════════════════════════
   SELECT2 — modales-select2.css
   (sobreescribe los colores claros)
══════════════════════════════════════ */
body.dark .select2-container--default .select2-selection--single {
    background-color: #2f3031 !important;
    border-color: #3A3B3C !important;
}

body.dark .select2-container--default .select2-selection--single .select2-selection__rendered {
    color: #CCC !important;
}

body.dark .select2-container--default .select2-selection--single .select2-selection__arrow b {
    border-color: #CCC transparent transparent transparent !important;
}

body.dark .select2-container--default.select2-container--open
    .select2-selection--single .select2-selection__arrow b {
    border-color: transparent transparent #CCC transparent !important;
}

body.dark .select2-dropdown {
    background-color: #2f3031 !important;
    border-color: #FF5722 !important;
}

body.dark .select2-search--dropdown .select2-search__field {
    background-color: #242526 !important;
    border-color: #3A3B3C !important;
    color: #CCC !important;
}

body.dark .select2-container--default .select2-results__option {
    background-color: #2f3031 !important;
    color: #CCC !important;
}

body.dark .select2-container--default .select2-results__option--highlighted[aria-selected] {
    background: linear-gradient(90deg, #FF5722, #ff8a50) !important;
    color: #FFF !important;
}

body.dark .select2-container--default .select2-results__option[aria-selected=true] {
    background-color: #3A3B3C !important;
    color: #FF5722 !important;
}